import sys,os
from pwn import *
context.update(
    arch="i386",
    ending="little",
    os="linux",
    terminal=["tmux","split-window","-h","-p 65"]
)

REMOTE = False
TARGET = os.path.realpath("")
elf = ELF(TARGET)

def attach(r):
    if not REMOTE:
        bkp = ['']
        gdb.attach(r,'\n'.join(["break *{}".format(x) for x in bkp]))
    return


def exploit(r):
    attach(r)
    r.interactive()
    return

if __name__ == "__main__":
    if len(sys.argv) == 2 and sys.argv[1] == "remote":
        REMOTE = True
        r = remote("Host_address",9001) # change this 
    else:
        REMOTE = False
        r = process([TARGET,])
    exploit(r)
    sys.exit(0)